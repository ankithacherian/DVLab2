<!-- 
  Lab: Lab2
  Author: Ankitha Susan Cherian
  Date: 19-02-2022
  This excercise aims at adding a text svg element at the mouse location during
  mouseout and mouseover events in svg container. The text svg is expected to move
  about the curser position
  
 -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <body>
      <h2 style="text-align: center">Excercise 5:</h2>
      <h4 style="text-align: center">
        When the mouse moves over the ‘svg’ container, add a ‘text’ svg element
        at the location of the mouse position.<br> As the mouse cursor moves around
        the svg container, have the text move to the cursor position (i.e., text
        follows the mouse cursor).
      </h4>
      <script
        type="text/javascript"
        src="https://d3js.org/d3.v7.min.js"
      ></script>

      <script>
        //Appending svg container to the html body
        var svg = d3
          .select("body")
          .append("svg")
          .attr("width", 600)
          .attr("height", 400)
          .style("border", "1px solid green");

        //Appending circle
        svg.append("circle")
            .attr("cx", 250)
            .attr("cy", 70)
            .attr("r", 50);
            d3.selectAll("circle")

          //getting mouse positions for x and y cordinates using d3.pointer
          .on("mouseover", function (event) {
            var coordinates = d3.pointer(event);
            var x_c = coordinates[0];
            var y_c = coordinates[1];

            //styling the circle at mouseover event
            d3.select(this)
              .style("fill", "steelblue")
              .attr("cx", 250)
              .attr("cy", 90)
              .attr("r", 70);

            //appending text  to svg during mouse event
            svg.append("text").attr("x", x_c).attr("y", y_c).text("Hello");
          })
          //removing the text at mouseout event
          .on("mouseout", function () {
            //d3.select("text").select(".text").remove;
            d3.selectAll("text").remove();
          });
      </script>
    </body>
  </head>
</html>
